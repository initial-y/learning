## 指令

> ？？？？ 

## 重排序

> 计算机在执行程序时，为了提高性能，处理器和编译器常常会对指令进行重排序。
>
> 重排序需要满足以下两个条件：
>
> - 在单线程环境下不能改变程序运行结果
> - 存在数据依赖关系的指令不能进行重排序
>
> 流水线技术：指令1还没执行完，就可以开始执行指令2，这样大大地提高了效率。
>
> 流水线技术最害怕中断，而指令重排就是减少中断的一种技术。
>
> 指令重排虽然带来了乱序问题，但是对提高CPU处理性能非常有必要。（空间换时间的设计思想）

### 指令重排

- 编译器优化重排

  > 编译器在不改变单线程程序语义的前提下，可以重新安排语句执行重排

- 指令并行重排

  > 多线程处理器讲多条指令重叠执行。如果不存在数据依赖性(指令间or指令内步骤间？)，处理器可以改变对应机器指令的执行顺序。

- 内存系统重排

  > 由于处理器使用缓存和存在读写缓冲区，使得加载（load）和存储（store）操作看上去可能是在乱序执行，因为三级缓存的存在，导致内存与缓存的数据同步存在时间差。